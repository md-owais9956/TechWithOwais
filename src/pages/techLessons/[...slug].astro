---
// src/pages/techLessons/[...slug].astro

// 1. Import the new layout
import { type CollectionEntry, getCollection, render } from 'astro:content';
import TechLessonLayout from '../../layouts/TechLessonLayout.astro';

// 2. Change getCollection to 'techLessons'
export async function getStaticPaths() {
    const posts = await getCollection('techLessons');
    return posts.map((post) => ({
        params: { slug: post.slug }, // Use post.slug to match the links
        props: post,
    }));
}

// 3. Change the type to 'techLessons'
type Props = CollectionEntry<'techLessons'>;

const post = Astro.props;
const { Content } = await render(post);
---

<TechLessonLayout {...post.data}>
    <Content />
</TechLessonLayout>